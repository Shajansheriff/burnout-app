"use strict";angular.module("burnoutApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","restangular","ngToast"]).config(["$routeProvider","RestangularProvider",function(a,b){b.setBaseUrl("https://burnout-api.herokuapp.com/"),b.setRequestSuffix("/"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about",activetab:"about"}).when("/clients",{templateUrl:"views/clients.html",controller:"ClientsCtrl",controllerAs:"clients",activetab:"clients"}).when("/clients/:id",{templateUrl:"views/client.html",controller:"ClientCtrl",controllerAs:"client",activetab:"client"}).when("/clients/:id/projects",{templateUrl:"views/client_projects.html",controller:"ClientProjectsCtrl",controllerAs:"client_Project",activetab:"clients"}).when("/projects/",{templateUrl:"views/projects.html",controller:"ProjectsCtrl",controllerAs:"projects",activetab:"projects"}).when("/projects/:id",{templateUrl:"views/project.html",controller:"ProjectCtrl",controllerAs:"project",activetab:"project"}).when("/404",{templateUrl:"views/not_found.html",controller:"MainCtrl",controllerAs:"main",activetab:"main"}).otherwise({redirectTo:"/"})}]),angular.module("burnoutApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.navbar=["home","clients"]}]),angular.module("burnoutApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("burnoutApp").controller("ClientCtrl",["$scope","$route","$routeParams","Restangular","ngToast",function(a,b,c,d,e){a.client_id=c.id,d.one("clients",a.client_id).get().then(function(b){a.client=b,d.one("clients",a.client.id).all("projects").getList().then(function(b){console.log(b),b.length?(console.log(b.length),a.projects=b,a.empty_projectlist=!1):a.empty_projectlist=!0},function(){console.log("There was an error saving")})},function(){console.log("There was an error saving")}),a.editClient=function(){a.client.put().then(function(a){$("#editClientModal").modal("toggle"),e.create({content:"Updated Successfully",timeout:2e3})},function(a){e.Create({content:"Error Occured",timeout:2e3}),console.log("error")})}}]),angular.module("burnoutApp").controller("ClientsCtrl",["$scope","$route","Restangular","ngToast",function(a,b,c,d){a.empty_clientlist=!0,a.projects=[],a.clients=[];var e=c.all("clients/");e.getList().then(function(b){b.length?(console.log(b.length),a.clients=b,a.empty_clientlist=!1):a.empty_clientlist=!0},function(){}),a.client={name:"",address:"",email:""},a.addClient=function(){e.post(a.client).then(function(b){$("#clientModal").modal("toggle"),a.empty_clientlist=!1,d.create({content:b.name+" created Successfully!",timeout:2e3,animation:"fade"}),a.clients.push(b)},function(){d.danger({content:"Error Occured created!",timeout:2e3,animation:"fade"})}),console.log(a.client.indexOf())},a.deleteClient=function(b){b&&c.one("clients",b.id).remove().then(function(c){console.log(c),a.clients.splice(a.clients.indexOf(b),1),d.warning({content:"Deleted Successfully!",timeout:2e3,animation:"fade"})},function(a){d.danger({content:"Error Occured",timeout:2e3,animation:"fade"})})},console.log(a.projects)}]),angular.module("burnoutApp").controller("ProjectCtrl",["$scope","$routeParams","Restangular","ngToast",function(a,b,c,d){var e=b.id;a.project_id=e,a.project="",a.project_timelines=[],e&&(c.one("projects",e).get().then(function(b){console.log(b),a.project=b,c.one("projects",e).getList("timeline").then(function(b){a.project_timelines=b},function(a){})},function(b){console.log("not found"),a.project_not_found=!0,d.danger({content:"Project Not Found"})}),a.createTimeline=function(b){var f=c.all("project-timeline");a.project_timeline.project=e,f.post(a.project_timeline).then(function(b){console.log(b),a.project_timelines.push(b),a.project.expense+=b.time_spent*a.project.cost_per_hour,a.project.total_hours_spent+=b.time_spent,a.project_timeline=""},function(a){console.log(a),d.danger("Error Occured. Please Try Again")})}),$("#datetimepicker").datetimepicker({format:"YYYY-MM-DD"})}]),angular.module("burnoutApp").controller("ProjectsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("burnoutApp").controller("ClientProjectsCtrl",["$scope","Restangular","$routeParams","ngToast",function(a,b,c,d){a.empty_projectlist=!0,a.projects=[],console.log(a.projects);var e=c.id;e&&b.one("clients",e).get().then(function(c){a.client_id=e,a.client=c,console.log(e),b.one("clients",e).all("projects").getList().then(function(b){console.log(b),b.length&&(a.projects=b)},function(a){console.log("rgeg")})});var f=b.all("projects/");a.addProject=function(b){a.project.client=a.client_id,f.post(a.project).then(function(b){a.projects.push(b),$("#addProjectModal").modal("toggle"),d.create({content:b.name+" Project created Successfully!",timeout:2e3,animation:"fade"})},function(a){console.log(a),$("#addProjectModal").modal("toggle"),d.danger({content:"Error Occured",timeout:2e3,animation:"fade"})})},a.deleteProject=function(c){b.one("projects",c.id).remove().then(function(b){a.projects.splice(a.projects.indexOf(c),1),d.create({content:"Deleted created Successfully!",timeout:2e3,animation:"fade"})},function(a){d.danger({content:"Error Occured",timeout:2e3,animation:"fade"})})},a.setProject=function(b){console.log(b),a.project=b},a.editProject=function(){a.project.put().then(function(a){$("#editProjectModal").modal("toggle"),$("#editClientModal").modal("toggle"),d.create({content:"Updated Successfully",timeout:2e3})},function(a){d.danger({content:"Error Occured",timeout:2e3}),console.log("error")})},$("#editProjectModal").on("hidden.bs.modal",function(a){a.project="",console.log("hello")})}]),angular.module("burnoutApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/client.html",'<div class="container"> <div class="row"> <div class="col-md-offset-1 col-md-10"> <div class="well profile"> <div class="col-sm-12"> <div class="col-xs-12 col-sm-8"> <h2 style="text-transform: capitalize">{{ client.name }}</h2> <p><strong>Email: </strong> {{ client.email }} </p> <p><strong>Address: </strong> {{ client.address }} </p> <br> </div> <div class="col-xs-12 col-sm-4 text-center"> <figure> <img src="images/client.bef6d910.png" alt="" class="img-responsive"> </figure> </div> </div> <div class="col-xs-12 divider text-center"> <div class="col-xs-12 col-sm-4 emphasis"> <h2><i class="glyphicon glyphicon-briefcase"> </i></h2> <p><small>Projects</small></p> <a ng-href="#/clients/{{ client.id }}/projects" class="btn btn-success btn-block"><span class="fa fa-plus-circle"></span> View </a> </div> <div class="col-xs-12 col-sm-4 emphasis"> <h2><i class="glyphicon glyphicon-ok"> </i></h2> <p><small>Completed Projects</small></p> <button class="btn btn-success btn-block"><span class="fa fa-plus-circle"></span> View </button> </div> <div class="col-xs-12 col-sm-4 emphasis"> <h2><i class="glyphicon glyphicon-user"> </i></h2> <p><small>Client Profile</small></p> <button class="btn btn-info btn-block" data-toggle="modal" data-target="#editClientModal"> Edit </button> </div> </div> </div> </div> </div> <!--Edit Client Modal --> <div id="editClientModal" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Edit Client</h4> </div> <div class="modal-body"> <form name="clientForm"> <div class="form-group"> <input ng-model="client.name" class="form-control" type="text" required placeholder="Client Name" pattern="\\b[a-zA-Z0-9]+" title="Only AlphaNums, Chars Min: 3 & Max: 50" minlength="3" maxlength="50"> </div> <div class="form-group"> <input ng-model="client.email" class="form-control" type="email" required placeholder="Email"> </div> <div class="form-group"> <textarea class="form-control" rows="5" ng-model="client.address" placeholder="Address">\n						</textarea> </div> <div class="form-group"> <button ng-click="editClient(client)" class="btn btn-success btn-block pull-right">Submit</button> </div> </form> <br> <br> </div> <div class="modal-footer"> <a ng-href="#/clients" type="button" class="btn btn-default" data-dismiss="modal">Close</a> </div> </div> </div> </div> </div>'),a.put("views/client_projects.html",'<div ng-controller="ClientProjectsCtrl"> <div class="col-md-12"> <div class="pull-right"> <button class="btn btn-primary" data-toggle="modal" data-target="#addProjectModal">Add Project</button> </div> <h4>List of Projects by {{ client.name }}</h4> </div> <br> <br> <br> <div ng-show="!projects.length" style="text-align: center"> <br> <h3>No Projects Found here!</h3> </div> <table class="table table-hover" ng-show="projects.length"> <thead> <tr> <th>Project Name</th> <th>Cost / hour</th> <th>Completed</th> <th style="text-align: center">Action</th> </tr> </thead> <tbody> <tr ng-repeat="project in projects"> <td>{{ project.name }}</td> <td>{{ project.cost_per_hour }}</td> <td>{{ project.completed }}</td> <td style="text-align: center"> <a ng-href="#/projects/{{ project.id }}"> <i class="glyphicon glyphicon-folder-open text-primary" style="cursor: pointer; margin-right: 10px"></i> </a> <i class="glyphicon glyphicon-pencil text-info" style="cursor: pointer; margin-right: 12px" ng-click="setProject(project)" data-toggle="modal" data-target="#editProjectModal"></i> <i class="glyphicon glyphicon-trash text-danger" style="cursor: pointer; margin-right: 7px" ng-click="deleteProject(project)"></i> </td> </tr> </tbody> </table> <!--Add Project Modal --> <div id="addProjectModal" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Add New Project</h4> </div> <div class="modal-body"> <form name="clientForm"> <div class="form-group"> <input ng-model="project.name" class="form-control" type="text" required placeholder="Project Name" pattern="\\b[a-zA-Z0-9]+" title="Only AlphaNums, Chars Min: 3 & Max: 50" minlength="3" maxlength="50"> </div> <div class="form-group"> <input ng-model="project.cost_per_hour" class="form-control" type="text" required placeholder="Cost Per Hour"> </div> <div class="form-group"> <input ng-model="project.start_date" class="form-control" type="text" placeholder="start date format: YYYY-MM-DD"> </div> <div class="form-group"> <input ng-model="project.end_date" class="form-control" type="text" placeholder="end date format: YYYY-MM-DD"> </div> <input type="hidden" ng-model="project.client" value="{{ client_id }}" name=""> <div class="form-group"> <button ng-click="addProject()" class="btn btn-success btn-block pull-right">Add</button> </div> </form> <br> <br> </div> <div class="modal-footer"> <a ng-href="#/clients" type="button" class="btn btn-default" data-dismiss="modal">Close</a> </div> </div> </div> </div> <!--Edit Project Modal --> <div id="editProjectModal" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Edit Project</h4> </div> <div class="modal-body"> <form name="clientForm"> <div class="form-group"> <input ng-model="project.name" class="form-control" type="text" required placeholder="Project Name" pattern="\\b[a-zA-Z0-9]+" title="Only AlphaNums, Chars Min: 3 & Max: 50" minlength="3" maxlength="50"> </div> <div class="form-group"> <input ng-model="project.cost_per_hour" class="form-control" type="text" required placeholder="Cost Per Hour"> </div> <div class="form-group"> <input ng-model="project.start_date" class="form-control" type="text" placeholder="start date format: YYYY-MM-DD"> </div> <div class="form-group"> <input ng-model="project.end_date" class="form-control" type="text" placeholder="end date format: YYYY-MM-DD"> </div> <input type="hidden" ng-model="project.client" value="{{ client_id }}" name=""> <div class="form-group"> <button ng-click="editProject()" class="btn btn-success btn-block pull-right">Add</button> </div> </form> <br> <br> </div> <div class="modal-footer"> <a ng-href="#/clients" type="button" class="btn btn-default" data-dismiss="modal">Close</a> </div> </div> </div> </div> </div>'),a.put("views/clients.html",'<div ng-controller="ClientsCtrl"> <div class="jumbotron" ng-show="!clients.length"> <h2>Ops, No clients here!</h2> <p class="lead"> <img src="images/client.bef6d910.png" alt="I\'m Yeoman"><br> Please create clients. </p> <p><button class="btn btn-lg btn-success" data-toggle="modal" data-target="#clientModal">Create Client!</button></p> </div> <div ng-show="clients.length"> <div class="row"> <div class="col-md-7"> <h4>List of Clients</h4> <ul class="list-group"> <li class="list-group-item" ng-repeat="client in clients"> <span class="pull-right glyphicon glyphicon-remove" style="cursor: pointer" ng-click="deleteClient(client)"></span> <a ng-href="#/clients/{{client.id}}">{{client.name}}</a> </li> <li ng-show="empty_clientlist"></li> </ul> </div> <div class="col-md-5"> <h4>Add a New Client</h4> <form name="clientForm"> <div class="form-group"> <input ng-model="client.name" class="form-control" type="text" required placeholder="Client Name" pattern="\\b[a-zA-Z0-9]+" title="Only AlphaNums, Chars Min: 3 & Max: 50" minlength="3" maxlength="50"> </div> <div class="form-group"> <input ng-model="client.email" class="form-control" type="email" required placeholder="Client Email"> </div> <div class="form-group"> <textarea class="form-control" rows="5" ng-model="client.address" placeholder="Address">\n						</textarea> </div> <div class="form-group"> <button ng-click="addClient()" class="btn btn-success btn-block pull-right">Add</button> </div> </form> </div> </div> </div> <!--Client Modal --> <div id="clientModal" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Add New Client</h4> </div> <div class="modal-body"> <form name="clientForm"> <div class="form-group"> <input ng-model="client.name" class="form-control" type="text" required placeholder="Client Name" pattern="\\b[a-zA-Z0-9]+" title="Only AlphaNums, Chars Min: 3 & Max: 50" minlength="3" maxlength="50"> </div> <div class="form-group"> <input ng-model="client.email" class="form-control" type="email" required placeholder="Client Email"> </div> <div class="form-group"> <textarea class="form-control" rows="5" ng-model="client.address" placeholder="Address">\n						</textarea> </div> <div class="form-group"> <button ng-click="addClient()" class="btn btn-success btn-block pull-right">Add</button> </div> </form> <br> <br> </div> <div class="modal-footer"> <a ng-href="#/clients" type="button" class="btn btn-default" data-dismiss="modal">Close</a> </div> </div> </div> </div> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/chart.2fa47a1f.png" alt="I\'m Yeoman"><br> Always a pleasure in doing Statistics. </p> <p><a class="btn btn-lg btn-success" ng-href="#/clients">Show Reports!</a></p> </div>'),a.put("views/not_found.html","<p>This is the not_found view.</p>"),a.put("views/project.html",'<div> <div style="text-align: center" ng-show="project_not_found"><h2>Project Not Found!!</h2></div> <div ng-hide="project_not_found"> <div class="row project-info"> <div class="col-md-2"><i class="glyphicon glyphicon-folder-open" style=""></i> <p> <strong>{{ project.name }}</strong></p> <p><small>Project Name</small></p></div> <div class="col-md-2"><i class="glyphicon glyphicon-usd" style=""></i> <p> <strong>{{ project.cost_per_hour }}</strong></p> <p><small>Cost Per Hour</small></p></div> <div class="col-md-3"><i class="glyphicon glyphicon-calendar" style="text"></i> <p> <strong>{{ project.start_date }}</strong></p> <p><small>Start Date</small></p></div> <div class="col-md-3"><i class="glyphicon glyphicon-calendar" style=""></i> <p> <strong>{{ project.end_date }}</strong></p> <p><small>End Date</small></p></div> <div class="col-md-2"><i class="glyphicon glyphicon-ok" style=""></i> <p> <strong>{{ project.completed }}</strong></p> <p><small>Completed</small></p></div> </div> <form class="form-inline" style="text-align: center"> <div class="form-group" style="margin-right: 15px"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-time"></i></div> <input type="text" class="form-control" ng-model="project_timeline.time_spent" id="" placeholder="Time Spent"> </div> </div> <div class="form-group"> <div class="input-group date"> <div class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></div> <input type="text" id="datetimepicker" class="form-control" ng-model="project_timeline.spent_on" id="" placeholder="Date"> </div> </div> <input type="hidden" ng-model="project_timelines.project" value="{{ project_id }}" name=""> <button class="btn btn-primary" ng-click="createTimeline()"><i class="glyphicon glyphicon-plus-sign"></i> Add</button> </form> <br> <div ng-show="project_timelines.length"> <!-- <h3 style="text-align: center;">Project {{ project.name }} Timeline</h3> --> <div class="col-md-12" style="text-align: center; margin-bottom: 20px"> <div class="col-md-3 col-md-offset-3"> <a href="#" class="btn btn-danger btn-lg" role="button"><span class="">{{ project.expense | currency }}</span> <br>Money Spent</a> </div> <div class="col-md-3"> <a href="#" class="btn btn-success btn-lg" role="button"><span class="">{{ project.total_hours_spent }}</span> <br>Hours Spent</a> </div> </div> <br> <br> <div class="col-md-6 col-md-offset-3"> <table class="table table-hover table-bordered text-center"> <thead> <th>Hour Spent</th> <th>Date</th> </thead> <tbody> <tr ng-repeat="project_timeline in project_timelines"> <td>{{ project_timeline.time_spent }}</td> <td>{{ project_timeline.spent_on }}</td> </tr> </tbody> </table> </div> </div> <div ng-show="!project_timelines.length" style="text-align: center"> <hr> <h3>No Time Spent on the project.</h3><h4> Please Add from above Form.</h4></div> </div> </div>'),a.put("views/projects.html","<p>This is the projects view.</p>")}]);